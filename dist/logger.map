{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9713715c5e84883b6b04","webpack:///./index.js","webpack:///./src/Logger.js","webpack:///./src/utils.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,uC;;;;;;ACAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2DAA2D;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,iCAAiC;AACrD,EAAE;AACF;AACA,oBAAoB,kCAAkC;AACtD,EAAE;AACF;AACA,oBAAoB,mCAAmC;AACvD,EAAE;AACF;AACA,oBAAoB,mCAAmC;AACvD,EAAE;AACF;;AAEA;;;;;;;AChLA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI,+BAA+B;AACnC,IAAI,yBAAyB;AAC7B,IAAI,6CAA6C;AACjD,IAAI,yBAAyB;AAC7B,IAAI,2CAA2C;AAC/C,IAAI,wBAAwB;AAC5B,IAAI,4CAA4C;AAChD,IAAI,wBAAwB;AAC5B,IAAI,8CAA8C;AAClD,IAAI,0BAA0B;AAC9B,IAAI,8CAA8C;AAClD,IAAI,0BAA0B;AAC9B;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,C","file":"logger.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Logger\"] = factory();\n\telse\n\t\troot[\"Logger\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9713715c5e84883b6b04","module.exports = require('./src/Logger')\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 0\n// module chunks = 0","var utils = require('./utils')\n\nfunction Logger (config) {\n\tconfig = config || {}\n\t// 控制log等级\n\tthis.LEVELS = [\n\t\t'log',\n\t\t'warn',\n\t\t'error',\n\t]\n\t// debug模式 title的字体大小\n\tthis.debugTitleSize = config.debugTitleSize || 14\n\t// 是否使用颜色\n\tthis.colored = config.colored === false ? false : true\n\t// log的时间格式\n\tthis.dateTemp = config.dateTemp === undefined\n\t\t? 'HH:mm:SS'\n\t\t: config.dateTemp\n\t// 控制哪些log是可以显示出来，区别本地和线上\n\tthis.logLevel = config.logLevel\n\t\t? this.getLevelFromName(config.logLevel)\n\t\t: 0\n\n\t// 是否启用捕获异常\n\tif (config.catchConfig) {\n\t\tthis.catchConfig = config.catchConfig\n\t\tthis.catchError()\n\t}\n}\n\n// 配置报错把错误信息提交到服务器\nLogger.prototype.catchError = function () {\n\tvar that = this\n\tif (window && typeof window === 'object') {\n\t\twindow.onerror = function (msg, url, line, col, error) {\n\t\t\tvar errorInfo = {\n\t\t\t\tmsg: msg,\n\t\t\t\turl: url,\n\t\t\t\tline: line,\n\t\t\t\tcol: col,\n\t\t\t}\n\t\t\tthat.send2Server(errorInfo)\n\t\t}\n\t}\n}\n\n// 发送到远程log\nLogger.prototype.send2Server = function (data) {\n\tvar xmlhttp = null\n\tvar requestUrl = this.catchConfig.url\n\n\tif (window.XMLHttpRequest) xmlhttp = new XMLHttpRequest()\n\telse xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\")\n\n\txmlhttp.open('post', requestUrl, true)\n\txmlhttp.setRequestHeader(\"Content-type\",\"application/json;charset=utf-8\")\n\txmlhttp.send(JSON.stringify(data))\n}\n\n// 信息log\nLogger.prototype.log = function (msg) {\n\tif(this.logLevel > 0) return\n\tconsole.log.apply(null, this.renderTemp('log', msg))\n}\n\n// 警告\nLogger.prototype.warn = function (msg) {\n\tif(this.logLevel > 1) return\n\tconsole.log.apply(null, this.renderTemp('warn', msg))\n}\n\n// 错误log\nLogger.prototype.error = function (msg) {\n\tif(this.logLevel > 3) return\n\tconsole.log.apply(null, this.renderTemp('error', msg))\n}\n\n// debug\nLogger.prototype.debug = function () {\n\tif(this.logLevel > 1) return\n\tvar length = arguments.length\n\tvar msg = ''\n\tvar title = ''\n\tif(length > 1) {\n\t\ttitle = arguments[0]\n\t\tmsg = arguments[1]\n\t}else {\n\t\tmsg = arguments[0]\n\t}\n\tconsole.log.apply(null, this.renderTemp('debug', msg, title))\n}\n\n// 发送到server端的log\nLogger.prototype.server = function (msg) {\n\tif(this.catchConfig && this.catchConfig.url) {\n\t\tthis.send2Server({msg: msg})\n\t}\n}\n\n// 设置全局log的等级\nLogger.prototype.setLevel = function (levelName) {\n\tthis.logLevel = this.getLevelFromName(levelName)\n}\n\nLogger.prototype.getLevelFromName = function (levelName) {\n\tvar newLevel = this.LEVELS.indexOf(levelName)\n\n\tif(newLevel === -1) {\n\t\treturn this.error('level error')\n\t}\n\n\treturn newLevel\n}\n\nLogger.prototype.renderTemp = function (type, msg, title) {\n\tvar date = utils.moment.getCurrent(this.dateTemp)\n\n\tif(type === 'debug') {\n\t\tvar debugColors = [\n\t\t\t'#E6DA50',\n\t\t\t'#43CE87',\n\t\t\t'#5CC9F5',\n\t\t\t'#6638F0',\n\t\t\t'#F78AE0',\n\t\t]\n\t\tvar dashs = '—'.repeat(20)\n\t\tvar debugTitle = '%c' + dashs + title + date + dashs + '\\n%c%o%c%s'\n\t\tvar debugColor = debugColors[(Math.random() * 5).toFixed(0)]\n\n\t\treturn [\n\t\t\tdebugTitle,\n\t\t\t'font-size: ' + this.debugTitleSize + 'px;color: '+ debugColor,\n\t\t\t'',\n\t\t\tmsg,\n\t\t\t'font-size: ' + this.debugTitleSize + 'px;color: '+ debugColor,\n\t\t\t'\\n' + '—'.repeat(debugTitle.length - 9),\n\t\t]\n\t}else {\n\t\tvar colors = {\n\t\t\tlog: '#0AC380',\n\t\t\twarn: '#FFB000',\n\t\t\terror: '#F25353',\n\t\t}\n\t\tvar temp = [\n\t\t\t'%c ' + type.toUpperCase() + ' %c%s',\n\t\t\t'color: #FFFFFF; background: ' + colors[type],\n\t\t\t'text-decoration: underline',\n\t\t\tthis.dateTemp ? '[' + date + ']' : '',\n\t\t\tmsg,\n\t\t]\n\n\t\tif(!this.colored) {\n\t\t\ttemp.splice(1, 2)\n\t\t\ttemp[0] = ' ' + type.toUpperCase()\n\t\t}\n\n\t\treturn temp\n\t}\n}\n\nLogger.install = function (Vue, config) {\n\tvar logger = new Logger(config)\n\tObject.defineProperty(Vue.prototype, '$log', {\n\t\tget: function () { return logger.log.bind(logger) },\n\t})\n\tObject.defineProperty(Vue.prototype, '$warn', {\n\t\tget: function () { return logger.warn.bind(logger) },\n\t})\n\tObject.defineProperty(Vue.prototype, '$error', {\n\t\tget: function () { return logger.error.bind(logger) },\n\t})\n\tObject.defineProperty(Vue.prototype, '$debug', {\n\t\tget: function () { return logger.debug.bind(logger) },\n\t})\n}\n\nmodule.exports = Logger\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Logger.js\n// module id = 1\n// module chunks = 0","var moment = {\n\tgetCurrent: function (template) {\n\t\ttemplate = template ? template : 'YYYY-MM-DD'\n\t\tconst date = new Date()\n\t\treturn this.formatter(date, template)\n\t},\n\tformatter: function (date, template) {\n\t\ttemplate = template ? template : 'YYYY-MM-DD'\n\t\tconst newDate = new Date(date)\n\t\tconst fullYear = newDate.getFullYear()\n\t\tconst year = String(fullYear).substr(2)\n\t\tconst month = newDate.getMonth() + 1\n\t\tconst day = newDate.getDate()\n\t\tconst hour = newDate.getHours()\n\t\tconst minute = newDate.getMinutes()\n\t\tconst second = newDate.getSeconds()\n\n\t\tconst items = [\n\t\t\t{ key: 'YYYY', value: fullYear },\t\t\t\t// 2017年\n\t\t\t{ key: 'YY', value: year },\t\t\t\t\t\t// 17年\n\t\t\t{ key: 'MM', value: ('0' + month).substr(-2) },\t// 02月\n\t\t\t{ key: 'M', value: month },\t\t\t\t\t\t// 2月\n\t\t\t{ key: 'DD', value: ('0' + day).substr(-2) },\t// 02号\n\t\t\t{ key: 'dd', value: day },\t\t\t\t\t\t// 2号\n\t\t\t{ key: 'HH', value: ('0' + hour).substr(-2) },\t// 24小时制\n\t\t\t{ key: 'H', value: hour },\t\t\t\t\t\t// 2点\n\t\t\t{ key: 'mm', value: ('0' + minute).substr(-2) },// 02分\n\t\t\t{ key: 'm', value: minute },\t\t\t\t\t// 2分\n\t\t\t{ key: 'SS', value: ('0' + second).substr(-2) },// 02秒\n\t\t\t{ key: 'S', value: second },\t\t\t\t\t// 2秒\n\t\t]\n\n\t\titems.forEach(function (item) {\n\t\t\ttemplate = template.replace(item.key, item.value)\n\t\t})\n\n\t\treturn template\n\t}\n}\n\nmodule.exports = {\n\tmoment: moment,\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}